*** binutils/objcopy.c	6 Aug 2006 15:49:46 -0000	1.97
--- binutils/objcopy.c	4 Sep 2006 12:33:39 -0000
*************** is_strip_section (bfd *abfd ATTRIBUTE_UN
*** 815,820 ****
--- 815,827 ----
  	return FALSE;
      }
  
+   /* PR binutils/3166
+      Group sections look like debugging sections but they are not.
+      (They have a non-zero size but they are not ALLOCated).  */
+   if ((bfd_get_section_flags (abfd, sec) & SEC_GROUP) != 0
+       && strip_symbols == STRIP_NONDEBUG)
+     return TRUE;
+ 
    return FALSE;
  }
  
